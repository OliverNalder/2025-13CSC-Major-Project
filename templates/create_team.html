<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body { font-family: Arial; }
        .popup, .overlay { display: none; position: fixed; z-index: 1000; }
        .popup { top: 20%; left: 50%; transform: translate(-50%, -20%); background: white; padding: 20px; border: 1px solid #ccc; width: 300px; max-height: 400px; overflow: hidden; }
        .popup.active, .overlay.active { display: block; }
        .overlay { top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.3); z-index: 999; }
        input[type="text"] { width: 100%; margin-bottom: 10px; padding: 6px; }
        ul { list-style: none; margin: 0; padding: 0; max-height: 300px; overflow-y: auto; border: 1px solid #ddd; }
        li { padding: 8px; cursor: pointer; }
        li:hover { background: #f0f0f0; }
    </style>
</head>
<body>
    
        <button id="openList">Add Member</button>
        <div class="overlay" id="overlay"></div>
        <div class="popup" id="popupBox">
            <input type="text" id="searchBox" placeholder="Search...">
            <ul id="optionsList">
             {% for user in user_list %}
               <li>{{ user[0] }}</li>
             {% endfor %}
            </ul>
        </div>
    

<script>
  const popup = document.getElementById('popupBox');
  const overlay = document.getElementById('overlay');
  const openBtn = document.getElementById('openPopup');
  const searchBox = document.getElementById('searchBox');
  const optionsList = document.getElementById('optionsList');

  openBtn.onclick = () => {
    popup.classList.add('active');
    overlay.classList.add('active');
    searchBox.value = '';
    filterOptions('');
  };

  overlay.onclick = () => {
    popup.classList.remove('active');
    overlay.classList.remove('active');
  };

  searchBox.addEventListener('input', (e) => {
    filterOptions(e.target.value);
  });

  function filterOptions(query) {
    const user = optionsList.getElementsByTagName('li');
    Array.from(user).forEach(user => {
      const text = user.textContent.toLowerCase();
      user.style.display = text.includes(query.toLowerCase()) ? '' : 'none';
    });
  }

  Array.from(document.querySelectorAll('#optionsList li')).forEach(user => {
    user.addEventListener('click', () => {
      alert("You selected: " + user.textContent);
      popup.classList.remove('active');
      overlay.classList.remove('active');
    });
  });
</script>
</body>
</html>